<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily To-Do App</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif;}
body {background:#1e1e1e; color:#f5f5f5; display:flex; justify-content:center; padding:40px;}
.container {width:100%; max-width:700px; background:#2c2c2c; border-radius:15px; padding:30px; box-shadow:0 10px 25px rgba(0,0,0,0.5);}
h1 {text-align:center; color:#ff6f61; margin-bottom:20px;}
input[type="text"] {width:80%; padding:10px 15px; border-radius:8px; border:none; outline:none; margin-right:10px; font-size:1rem;}
button {padding:10px 15px; border:none; border-radius:8px; background:#ff6f61; color:#fff; font-weight:600; cursor:pointer; transition:0.3s;}
button:hover {background:#ff4b3b;}
.task-list {margin-top:20px;}
.task {display:flex; justify-content:space-between; align-items:center; background:#3a3a3a; padding:12px 15px; border-radius:8px; margin-bottom:10px; transition:0.3s;}
.task.completed {background:#4caf50;}
.task span {flex:1; margin-left:10px; word-break:break-word;}
.task .actions button {margin-left:8px; background:#555; transition:0.3s;}
.task .actions button:hover {background:#777;}
.timestamp {font-size:0.8rem; color:#ccc; margin-left:10px;}
.section-title {margin-top:30px; font-size:1.2rem; color:#ff6f61; margin-bottom:10px;}
</style>
</head>
<body>

<div class="container">
  <h1>Daily To-Do App</h1>
  <div class="add-task">
    <input type="text" id="taskInput" placeholder="Enter a new task...">
    <button onclick="addTask()">Add Task</button>
  </div>

  <div class="task-section">
    <div class="section-title">Pending Tasks</div>
    <div id="pendingTasks" class="task-list"></div>
  </div>

  <div class="task-section">
    <div class="section-title">Completed Tasks</div>
    <div id="completedTasks" class="task-list"></div>
  </div>
</div>

<script>
let tasks = [];

function renderTasks() {
  const pendingDiv = document.getElementById("pendingTasks");
  const completedDiv = document.getElementById("completedTasks");

  pendingDiv.innerHTML = "";
  completedDiv.innerHTML = "";

  tasks.forEach((task, index) => {
    const taskDiv = document.createElement("div");
    taskDiv.className = "task" + (task.completed ? " completed" : "");

    const taskText = document.createElement("span");
    taskText.textContent = task.text;

    const timestamp = document.createElement("span");
    timestamp.className = "timestamp";
    timestamp.textContent = task.completed ? `Completed: ${task.completedAt}` : `Added: ${task.createdAt}`;

    const actionsDiv = document.createElement("div");
    actionsDiv.className = "actions";

    // Complete/Undo button
    const completeBtn = document.createElement("button");
    completeBtn.textContent = task.completed ? "Undo" : "Complete";
    completeBtn.onclick = () => toggleComplete(index);

    // Edit button
    const editBtn = document.createElement("button");
    editBtn.textContent = "Edit";
    editBtn.onclick = () => editTask(index);

    // Delete button
    const deleteBtn = document.createElement("button");
    deleteBtn.textContent = "Delete";
    deleteBtn.onclick = () => deleteTask(index);

    actionsDiv.appendChild(completeBtn);
    actionsDiv.appendChild(editBtn);
    actionsDiv.appendChild(deleteBtn);

    taskDiv.appendChild(taskText);
    taskDiv.appendChild(timestamp);
    taskDiv.appendChild(actionsDiv);

    if(task.completed){
      completedDiv.appendChild(taskDiv);
    } else {
      pendingDiv.appendChild(taskDiv);
    }
  });
}

function addTask() {
  const taskInput = document.getElementById("taskInput");
  const text = taskInput.value.trim();
  if(text === "") return alert("Task cannot be empty!");

  const now = new Date();
  const createdAt = now.toLocaleString();

  tasks.push({text, completed:false, createdAt, completedAt:null});
  taskInput.value = "";
  renderTasks();
}

function toggleComplete(index){
  const task = tasks[index];
  task.completed = !task.completed;
  if(task.completed){
    task.completedAt = new Date().toLocaleString();
  } else {
    task.completedAt = null;
  }
  renderTasks();
}

function deleteTask(index){
  if(confirm("Are you sure you want to delete this task?")){
    tasks.splice(index,1);
    renderTasks();
  }
}

function editTask(index){
  const newText = prompt("Edit your task:", tasks[index].text);
  if(newText !== null && newText.trim() !== ""){
    tasks[index].text = newText.trim();
    renderTasks();
  }
}

// Initial render
renderTasks();
</script>

</body>
</html>
